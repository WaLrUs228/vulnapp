# vulnapp
### Инструкция по сборке и запуску приложения
1. Все действия для OS Windows.
2. Перед начало необходимо установить пакет django. Для этого ввести следующую команду в консоле: pip install Django
3. Далее возвращаемся в git. Перейти в ветку new_branch.
4. Скачать содержимое, как zip файл.
5. Распаковать архив.
6. Переместить содержимое по пути, не содержащем кириллицу.
7. Открыть папку webapp через среду разработки PyCharm.
8. Открыть терминал в среде разработки.
9. Перейти в папку vulnwebapp: cd vulnwebapp
10. Запустит сервер: python manage.py runserver


### Proof of Concept
1. SQLI: (http://127.0.0.1:8000/accounts/login/)
Реализация данной уязвимости была достигнута путем использования сырого SQL-запроса.
Ручное воспроизведение:
При заполнении поля логин вводится SQL-код. Поле логин принимает следующий вид:
Логин: ' OR 1=1--

2. IDOR:
Данная уязвимость представляет из себя несанкционированный доступ к аккаунту пользователя.
CURL команда:
curl http:127.0.0.1/profile/1
curl http:127.0.0.1/profile/2

3. XSS: (http://127.0.0.1:8000/profile/1/)
Была реализована Stored XSS уязвимость. Каждый пользователь имеет доступ к чату, сообщения которого сохраняются в базе данных. Соответсвенно, вводится скрипт и отправляется в БД. Далее скрипт выполняется у каждого открывшего чат (в данном случае у каждого поситившего профиль).
Ручное воспроизведение:
В поле, где пишется сообщение вставляется следующий скрипт:
<script>alert(1)</script>

4. OS command injection: (http://127.0.0.1:8000/nslookup/)
Данная уязвимость была реализована следующим образом: пользователь вводит строку, введенная строка добавляется к строке, которая содержит консольную команду ping. Соответсвенно, может быть введено больше, чем просто домен, который запрашивается, таким образом, модифицировав первоначальную команду.
Ручное воспроизведение:
В поле ввода пишется следующее:
ya.ru & whoami

5. Path Traversal:
Реализация данной уязвимости позволяет читать произвольные файлы на сервере, где запущено приложение.
СURL команда:
curl http://127.0.0.1:8000/photo/?filename=cool_photo.jpeg - сервер пересылает сюда
curl http://127.0.0.1:8000/photo/?filename=../secret.txt - можно узнать содержимое файла, находящегося в иерархии на уровень ниже

7. Brute force: (http://127.0.0.1:8000/accounts/login/)
Можно бесконечно много раз ввести неверную пару логин/пароль без каких-либо последствий.

### Дополнительные комментарии
> Фрэймвор Django по умолчанию выполяет защиту от XSS уязвимости(экранирование), поэтому пришлось отключить данную функцию путем ввода специального тэга {% autoescape off %}.
